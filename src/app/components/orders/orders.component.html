<div class="orders-page">
    <div class="order-list" *ngIf="orderHistory.length > 0; else emptyOrders">
        <h1>Order History</h1>

        <div *ngFor="let order of orderHistory" class="order-group">
            <div class="order-header">
                <h3>Order #{{ order.orderNumber }}</h3>
                <p>Placed on: {{ order.date }}</p>
            </div>

            <div *ngFor="let item of order.items" class="product-card">
                <img [src]="item.product.image" alt="product">

                <div class="text-container">
                    <h3 class="product-title">{{ item.product.title }}</h3>
                    
                    <div class="quantity-controls">
                        <span class="qty-num">Qty: {{ item.quantity }}</span>
                    </div>
                </div>

                <div class="product-actions">
                    <p class="price">{{ (item.product.price * item.quantity) | currency }}</p>
                </div>
            </div>

            <div class="order-summary">
                <div class="summary-details">
                    <p>Subtotal: {{ order.subtotal | currency }}</p>
                    <p>Tax: {{ order.tax | currency }}</p>
                    <p>Shipping: {{ order.shipping | currency }}</p>
                    <h3>Total Paid: {{ order.total | currency }}</h3>
                </div>
            </div>
        </div>
    </div>

    <ng-template #emptyOrders>
        <div class="empty-state">
            <p><i>You haven't placed any orders yet.</i></p>
            <button routerLink="/">Start Shopping</button>
        </div>
    </ng-template>
</div>